define(["require","module","exports"],function(require,module,exports){function a(a,b,c){a.css("opacity",1).find("ul").height(a.find("a").height()).find("li:eq(0)").addClass("active");var d=setInterval(function(){a.height()&&($(document.body).css("padding-top",a.height()-1+"px").show(),clearInterval(d),d=null)},20);this.$oParent=a,this.$btnPre=b,this.$btnNext=c,this.defaultSign=1,this.aLi=this.$oParent.find("li"),this.length=this.aLi.length,this.index=0,this.zIndex=1,this.autoScoll(),this.addEvent()}a.prototype={constructor:a,version:"1.0.0",oLeft:["20px","-20px"],autoScoll:function(){var a=this;this.$oParent.find("li:eq(0)").addClass("active"),this.$oParent.timer=setInterval($.proxy(a.runPic,a),4e3)},runPic:function(a){var b=this,c=this.aLi,d=this.length,e=this.index,f=this.oLeft[e%2],g="number"==typeof a?a:d>e+1?e+1:0;this.removeEvent(),c.eq(e).css({"z-index":1,"margin-left":0,left:0}).animate({opacity:0},1500),this.numAli&&this.numAli.removeClass("active").eq(g).addClass("active"),c.eq(g).css({"z-index":10,left:f,"margin-left":0}).animate({opacity:1,left:0},1500,function(){null==b.$oParent.timer&&(b.$oParent.timer=setInterval($.proxy(b.runPic,b),4e3)),b.addEvent()}),this.index=g},addEvent:function(){var a=this;null!=this.$btnPre&&this.$btnPre.on("click",$.proxy(a.preEvent,a)),null!=this.$btnNext&&this.$btnNext.on("click",$.proxy(a.nextEvent,a))},removeEvent:function(){null!=this.$btnPre&&this.$btnPre.off("click"),null!=this.$btnNext&&this.$btnNext.off("click")},preEvent:function(){var a=this;this.$oParent.timer&&(clearInterval(this.$oParent.timer),this.$oParent.timer=null);var b=this.index,c=0>b-1?this.aLi.length-1:b-1;this.runPic.call(a,c)},nextEvent:function(){var a=this;this.$oParent.timer&&(clearInterval(this.$oParent.timer),this.$oParent.timer=null);var b=this.index,c=b+1<this.aLi.length?b+1:0;this.runPic.call(a,c)}},module.exports=a});