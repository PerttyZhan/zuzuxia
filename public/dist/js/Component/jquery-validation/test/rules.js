module("rules"),test("rules() - internal - input",function(){var a=$("#firstname");$("#testForm1").validate(),deepEqual(a.rules(),{required:!0,minlength:2})}),test("rules(), ignore method:false",function(){var a=$("#firstnamec");$("#testForm1clean").validate({rules:{firstnamec:{required:!1,minlength:2}}}),deepEqual(a.rules(),{minlength:2})}),test("rules() HTML5 required (no value)",function(){var a=$("#testForm11text1");$("#testForm11").validate(),deepEqual(a.rules(),{required:!0})}),test("rules() - internal - select",function(){var a=$("#meal");$("#testForm3").validate(),deepEqual(a.rules(),{required:!0})}),test("rules() - external",function(){var a=$("#text1");$("#form").validate({rules:{action:{date:!0,min:5}}}),deepEqual(a.rules(),{date:!0,min:5})}),test("rules() - external - complete form",function(){expect(1);var a,b=$.extend({},$.validator.methods),c=$.extend({},$.validator.messages);$.validator.addMethod("verifyTest",function(){return ok(!0,"method executed"),!0}),a=$("#form").validate({rules:{action:{verifyTest:!0}}}),a.form(),$.validator.methods=b,$.validator.messages=c}),test("rules() - internal - input",function(){var a=$("#form8input");$("#testForm8").validate(),deepEqual(a.rules(),{required:!0,number:!0,rangelength:[2,8]})}),test("rules(), merge min/max to range, minlength/maxlength to rangelength",function(){jQuery.validator.autoCreateRanges=!0,$("#testForm1clean").validate({rules:{firstnamec:{min:-15,max:0},lastname:{minlength:0,maxlength:10}}}),deepEqual($("#firstnamec").rules(),{range:[-15,0]}),deepEqual($("#lastnamec").rules(),{rangelength:[0,10]}),jQuery.validator.autoCreateRanges=!1}),test("rules(), guarantee that required is at front",function(){function a(a){var b=[];return jQuery.each($(a).rules(),function(a){b.push(a)}),b.join(" ")}$("#testForm1").validate();var b=$("#v2").validate();$("#subformRequired").validate(),equal("required minlength",a("#firstname")),equal("required minlength maxlength",a("#v2-i6")),equal("required maxlength",a("#co_name")),QUnit.reset(),jQuery.validator.autoCreateRanges=!0,b=$("#v2").validate(),equal("required rangelength",a("#v2-i6")),$("#subformRequired").validate({rules:{co_name:"required"}}),$("#co_name").removeClass(),equal("required maxlength",a("#co_name")),jQuery.validator.autoCreateRanges=!1}),test("rules(), evaluate dynamic parameters",function(){expect(2),$("#testForm1clean").validate({rules:{firstnamec:{min:function(a){return equal($("#firstnamec")[0],a),12}}}}),deepEqual($("#firstnamec").rules(),{min:12})}),test("rules(), class and attribute combinations",function(){$.validator.addMethod("customMethod1",function(){return!1},""),$.validator.addMethod("customMethod2",function(){return!1},""),$("#v2").validate({rules:{"v2-i7":{required:!0,minlength:2,customMethod:!0}}}),deepEqual($("#v2-i1").rules(),{required:!0}),deepEqual($("#v2-i2").rules(),{required:!0,email:!0}),deepEqual($("#v2-i3").rules(),{url:!0}),deepEqual($("#v2-i4").rules(),{required:!0,minlength:2}),deepEqual($("#v2-i5").rules(),{required:!0,minlength:2,maxlength:5,customMethod1:"123"}),jQuery.validator.autoCreateRanges=!0,deepEqual($("#v2-i5").rules(),{required:!0,customMethod1:"123",rangelength:[2,5]}),deepEqual($("#v2-i6").rules(),{required:!0,customMethod2:!0,rangelength:[2,5]}),jQuery.validator.autoCreateRanges=!1,deepEqual($("#v2-i7").rules(),{required:!0,minlength:2,customMethod:!0}),delete $.validator.methods.customMethod1,delete $.validator.messages.customMethod1,delete $.validator.methods.customMethod2,delete $.validator.messages.customMethod2}),test("rules(), dependency checks",function(){var a=$("#testForm1clean").validate({rules:{firstnamec:{min:{param:5,depends:function(a){return/^a/.test($(a).val())}}},lastname:{max:{param:12},email:{depends:function(){return!0}}}}}),b=$("#firstnamec").rules();equal(0,a.objectLength(b)),$("#firstnamec").val("ab"),deepEqual($("#firstnamec").rules(),{min:5}),deepEqual($("#lastnamec").rules(),{max:12,email:!0})}),test("rules(), add and remove",function(){$.validator.addMethod("customMethod1",function(){return!1},""),$("#v2").validate(),$("#v2-i5").removeClass("required").removeAttr("minlength maxlength"),deepEqual($("#v2-i5").rules(),{customMethod1:"123"}),$("#v2-i5").addClass("required").attr({minlength:2,maxlength:5}),deepEqual($("#v2-i5").rules(),{required:!0,minlength:2,maxlength:5,customMethod1:"123"}),$("#v2-i5").addClass("email").attr({min:5}),deepEqual($("#v2-i5").rules(),{required:!0,email:!0,minlength:2,maxlength:5,min:5,customMethod1:"123"}),$("#v2-i5").removeClass("required email").removeAttr("minlength maxlength customMethod1 min"),deepEqual($("#v2-i5").rules(),{}),delete $.validator.methods.customMethod1,delete $.validator.messages.customMethod1}),test("rules(), add and remove static rules",function(){$("#testForm1clean").validate({rules:{firstnamec:"required date"}}),deepEqual($("#firstnamec").rules(),{required:!0,date:!0}),$("#firstnamec").rules("remove","date"),deepEqual($("#firstnamec").rules(),{required:!0}),$("#firstnamec").rules("add","email"),deepEqual($("#firstnamec").rules(),{required:!0,email:!0}),$("#firstnamec").rules("remove","required"),deepEqual($("#firstnamec").rules(),{email:!0}),deepEqual($("#firstnamec").rules("remove"),{email:!0}),deepEqual($("#firstnamec").rules(),{}),$("#firstnamec").rules("add","required email"),deepEqual($("#firstnamec").rules(),{required:!0,email:!0}),deepEqual($("#lastnamec").rules(),{}),$("#lastnamec").rules("add","required"),$("#lastnamec").rules("add",{minlength:2}),deepEqual($("#lastnamec").rules(),{required:!0,minlength:2});var a=$("#lastnamec").rules("remove","required email");deepEqual($("#lastnamec").rules(),{minlength:2}),$("#lastnamec").rules("add",a),deepEqual($("#lastnamec").rules(),{required:!0,minlength:2})}),test("rules(), add messages",function(){$("#firstnamec").attr("title",null);var a=$("#testForm1clean").validate({rules:{firstnamec:"required"}});$("#testForm1clean").valid(),$("#firstnamec").valid(),deepEqual(a.settings.messages.firstname,void 0),$("#firstnamec").rules("add",{messages:{required:"required"}}),$("#firstnamec").valid(),deepEqual(a.errorList[0]&&a.errorList[0].message,"required"),$("#firstnamec").val("test"),$("#firstnamec").valid(),equal(a.errorList.length,0)}),test("rules(), rangelength attribute as array",function(){$("#testForm13").validate(),deepEqual($("#cars-select").rules(),{required:!0,rangelength:[2,3]})});