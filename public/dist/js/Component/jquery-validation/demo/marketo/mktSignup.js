$(document).ready(function(){$.mockjax({url:"emails.action",response:function(a){var b=a.data.email,c=["glen@marketo.com","george@bush.gov","me@god.com","aboutface@cooper.com","steam@valve.com","bill@gates.com"];this.responseText="true",-1!==$.inArray(b,c)&&(this.responseText="false")},responseTime:500}),jQuery.validator.addMethod("password",function(a,b){var c=this.optional(b)||a.length>=6&&/\d/.test(a)&&/[a-z]/i.test(a);if(!c){b.value="";var d=this;setTimeout(function(){d.blockFocusCleanup=!0,b.focus(),d.blockFocusCleanup=!1},1)}return c},"Your password must be at least 6 characters long and contain at least one number and one character."),jQuery.validator.addMethod("defaultInvalid",function(a,b){return a!=b.defaultValue},""),jQuery.validator.addMethod("billingRequired",function(a,b){return $("#bill_to_co").is(":checked")?$(b).parents(".subTable").length:!this.optional(b)},""),jQuery.validator.messages.required="",$("form").validate({invalidHandler:function(a,b){var c=b.numberOfInvalids();if(c){var d=1==c?"You missed 1 field. It has been highlighted below":"You missed "+c+" fields.  They have been highlighted below";$("div.error span").html(d),$("div.error").show()}else $("div.error").hide()},onkeyup:!1,submitHandler:function(){$("div.error").hide(),alert("submit! use link below to go to the other step")},messages:{password2:{required:" ",equalTo:"Please enter the same password as above"},email:{required:" ",email:"Please enter a valid email address, example: you@yourdomain.com",remote:jQuery.validator.format("{0} is already taken, please enter a different address.")}},debug:!0}),$(".resize").vjustify(),$("div.buttonSubmit").hoverClass("buttonSubmitHover"),$("input.phone").mask("(999) 999-9999"),$("input.zipcode").mask("99999");var a=$("#creditcard").mask("9999 9999 9999 9999");$("#cc_type").change(function(){switch($(this).val()){case"amex":a.unmask().mask("9999 999999 99999");break;default:a.unmask().mask("9999 9999 9999 9999")}});var b=$("div.subTableDiv"),c=$("input.toggleCheck");c.is(":checked")?b.hide():b.show(),$("input.toggleCheck").click(function(){1==this.checked?(b.slideUp("medium"),$("form").valid()):b.slideDown("medium")})}),$.fn.vjustify=function(){var a=0;$(".resize").css("height","auto"),this.each(function(){this.offsetHeight>a&&(a=this.offsetHeight)}),this.each(function(){$(this).height(a),this.offsetHeight>a&&$(this).height(a-(this.offsetHeight-a))})},$.fn.hoverClass=function(a){return this.hover(function(){$(this).addClass(a)},function(){$(this).removeClass(a)})};