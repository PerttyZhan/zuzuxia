define(["require","module","exports"],function(require,module,exports){var a=(require("WdatePicker"),{data:{$modalBody:$("#modal-body")},valiType:function(a){var b=/^1\d{10}$/,c=/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/;return b.test(a)?"电话":c.test(a)?"邮箱":"其它"},valiNull:function(a){for(var b,c,d,e,f,g=a.parents("form"),h=g.find("input"),i=g.find(".error:eq(0)"),j={},k=0,l=h.length;l>k;k++)if(e=h.eq(k),f=e.attr("type"),c=e.attr("name"),d=e.val(),b=e.attr("placeholder"),j[c]=d,"no"!=e.data("require"))switch(f){case"checkbox":if(!e.prop("checked"))return i.show().html(b+"不能为空"),!1;break;case"hidden":break;default:if(""==d)return i.show().html(b+"不能为空"),!1}return j.time=(new Date).getTime(),j},showModal:function(a,b){var c,d,e={"no-login":{$class:"message-no-login",$iclass:"icon-no-login",name:"$mnl"},"no-perfect":{$class:"message-no-perfect",$iclass:"icon-no-perfect",name:"$mnp"}};return"undefined"==typeof this.data[e[a].name]?(c='<div class="'+e[a].$class+'"><i class="icon '+e[a].$iclass+'"></i><span >'+b+"</span></div>",d=this.data[e[a].name]=$(c)):d=this.data[e[a].name],this.data.$modalBody.append(d),d.removeClass("fadeOutRight animated-fadeOUt").show().addClass("fadeInUp animated-login"),setTimeout(function(){d.removeClass("fadeInUp animated-login").addClass("fadeOutRight animated-fadeOUt")},1e3)},isLogin:function(){return null!=document.getElementById("dropMenu")}(),validator:{types:{},message:{},config:{},valid:function(a){for(var b=a.parents("form"),c=b.find("input"),d=b.find(".error:eq(0)"),e=0,f=c.length;f>e;e++)if(!this.validate(c.eq(e)))return d.show().html(this.messages.msg),!1},validate:function(a){for(var b,c,d,e,f=a.data("valiconfig").split(","),g=0,h=f.length;h>g;g++)if(c=this.config[f[g]],d=this.types[c],c){if(!d)throw{name:"ValidationError",message:"No handler to validate type "+c};if(e=d.validate(a.val()),!e)return b="Invalid value for *"+g+"*, "+d.instructions,this.messages={obj:a,msg:d.instructions},!1}return!0}}});a.validator.types.isNoEmpty={validate:function(a){return""!==a},instructions:"不能为空"},a.validator.types.isNumber={validate:function(a){return/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},instructions:"只能是合法的数字，例如：1, 3.14 or 2010"},a.validator.types.isAlphaNum={validate:function(a){return!/[^a-z0-9]/i.test(a)},instructions:"只能保护字母和数字，不能包含特殊字符"},a.validator.types.isUrl={validate:function(a){return/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(a)},instructions:"只能是url"},a.validator.types.isEmail={validate:function(a){return/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)},instructions:"只能是email"},module.exports=a});